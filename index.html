---
layout: layouts/home.njk
eleventyNavigation:
  key: בית
  order: 1
---
{% set maxPosts = collections.posts.length | min(3) %}
<img src="{{ '/assets/img/confetti.jpg' | url }}" alt="עובדי רד הט חוגגים עם קונפטי">

<section id="stats">

  <h2>בשנה האחרונה. עובדי רד האט בארץ תרמו לפרוייקטים שונים בגיטהאב...</h2>

  <rh-stat top="statistic">
    <svg slot="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36">
      <path d="M17.37 8v10a.63.63 0 0 0 1.25 0V8a.63.63 0 0 0-1.25 0Zm7 0v7a.63.63 0 0 0 1.25 0V8a.63.63 0 0 0-1.25 0Zm-14 0v12a.63.63 0 0 0 1.25 0V8a.63.63 0 0 0-1.25 0ZM31 17.89a.63.63 0 0 0-.63.62v11.87H5.62v-2.93a.63.63 0 0 0-1.25 0V31a.63.63 0 0 0 .63.62h26a.62.62 0 0 0 .62-.62V18.51a.62.62 0 0 0-.62-.62Z"/>
      <path d="M5 21a.63.63 0 0 0 .62-.63V5.62h24.75V9a.63.63 0 0 0 1.25 0V5a.62.62 0 0 0-.62-.62H5a.63.63 0 0 0-.63.62v15.36A.63.63 0 0 0 5 21Zm27.35-9.24a.62.62 0 0 0-.87.17C28.73 16 21.5 22.93 4 23.27a.63.63 0 0 0 0 1.25c18.07-.34 25.64-7.61 28.52-11.9a.62.62 0 0 0-.17-.86Z"/>
    </svg>
    <span slot="title">Commits</span>
    <span slot="statistic">{{ contributors.totalCommitContributions }}</span>
    <p slot="description"></p>
  </rh-stat>

  <rh-stat top="statistic">
    <span slot="title">Issues</span>
    <span slot="statistic">{{ contributors.totalIssueContributions }}</span>
    <p slot="description"></p>
  </rh-stat>

  <rh-stat top="statistic">
    <span slot="title">PRs</span>
    <span slot="statistic">{{ contributors.totalPullRequestContributions }}</span>
    <p slot="description"></p>
  </rh-stat>

  <rh-stat top="statistic">
    <span slot="title">Reviews</span>
    <span slot="statistic">{{ contributors.totalPullRequestReviewContributions }}</span>
    <p slot="description"></p>
  </rh-stat>

  <rh-stat top="statistic">
    <span slot="title">Repositories</span>
    <span slot="statistic">{{ contributors.totalRepositoryContributions }}</span>
    <p slot="description"></p>
  </rh-stat>

  <rh-stat top="statistic">
    <span slot="title">Gists</span>
    <span slot="statistic">{{ contributors.totalGists }}</span>
    <p slot="description"></p>
  </rh-stat>

</section>

{% if (repos | length) > 0 %}
<section id="repos">
  <h2>מהפרוייקטים שאנחנו תורמי ם אליהם</h2>
  {% for repo in repos | randomSort | pick(5) %}
  <github-repository owner-repo="{{ repo }}"></github-repository>
  {% endfor %}
</section>
<script type="module" src="{{ '/assets/gh.min.js' | url }}"></script>
{% endif %}

<h2>{% if maxPosts == 1 %}
  הפוסט האחרון {% else %}
  {{ maxPosts }} הפוסטים האחרונים{% endif %}
</h2>

{% set postslist = collections.posts | head(-3) %}
{% set postslistCounter = collections.posts | length %}
{% include "postslist.njk" %}

<p>יש עוד פוסטים <a href="{{ '/posts/' | url }}">בארכיון</a>.</p>

<style>
#stats {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
}
</style>
